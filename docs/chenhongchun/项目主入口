The main application entry point for your project is app.py, located in the project root directory. This serves as the primary entry point for starting the application. Here's what you need to know:
app.py is the main entry file that:
Sets up the correct Python path
Loads environment variables
Imports and creates the Flask application using create_app() from the app package
Provides a development server when run directly
The actual application configuration and initialization happens in app/__init__.py, which:
Defines the create_app() function that initializes the Flask application
Sets up logging, registers blueprints, initializes database connections
Configures Celery for asynchronous tasks
Loads configurations based on the environment
For Celery workers, there are two relevant files:
app/tasks/celery_app.py: Contains the Celery application instance and worker initialization
scripts/start_workers.py: A helper script for starting Celery workers with different queues
To start the application:
Run python app.py to start the web server
For Celery workers, run celery -A app.tasks.celery_app:celery_app worker --loglevel=info
For starting all services together, there is a start_all.py script that can start both the web server and Celery workers simultaneously.


---

### é¡¹ç›®æ ¸å¿ƒå…¥å£è¯´æ˜

**ä¸»å…¥å£æ–‡ä»¶**ï¼š`app.py`ï¼ˆä½äºé¡¹ç›®æ ¹ç›®å½•ï¼‰  
**æ ¸å¿ƒä½œç”¨**ï¼š
1. **ç¯å¢ƒåˆå§‹åŒ–**
   - è®¾ç½®Pythonè·¯å¾„
   - åŠ è½½ç¯å¢ƒå˜é‡ (é€šè¿‡`.env`æ–‡ä»¶)
2. **åº”ç”¨åˆ›å»º**
   - ä»`app`åŒ…å¯¼å…¥`create_app()`å‡½æ•°
   - åˆå§‹åŒ–Flaskåº”ç”¨å®ä¾‹
3. **å¼€å‘æœåŠ¡å™¨**
   - ç›´æ¥è¿è¡Œæ—¶å¯åŠ¨è°ƒè¯•æœåŠ¡å™¨
   - è®¿é—®åœ°å€é»˜è®¤ï¼š`http://localhost:5000`

---

### åº”ç”¨é…ç½®æ¶æ„ (`app/__init__.py`)

```python
def create_app():
    """Flaskåº”ç”¨å·¥å‚å‡½æ•°"""
    app = Flask(__name__)
    
    # æ ¸å¿ƒé…ç½®æµç¨‹
    app.config.from_object(f"config.{os.getenv('FLASK_ENV', 'Development')}Config")
    
    # åˆå§‹åŒ–ç»„ä»¶
    init_logging(app)          # ğŸ“ æ—¥å¿—ç³»ç»Ÿ
    register_blueprints(app)   # ğŸ”µ è·¯ç”±è“å›¾
    init_database(app)         # ğŸ—„ï¸ æ•°æ®åº“è¿æ¥
    configure_celery(app)      # ğŸš€ Celeryå¼‚æ­¥ä»»åŠ¡
    
    return app
```

---

### Celeryå·¥ä½œè€…ç®¡ç†

| æ–‡ä»¶è·¯å¾„                      | åŠŸèƒ½è¯´æ˜                     |
|-----------------------------|----------------------------|
| `app/tasks/celery_app.py`    | Celeryåº”ç”¨å®ä¾‹åŠå·¥ä½œè¿›ç¨‹åˆå§‹åŒ– |
| `scripts/start_workers.py`   | å¤šé˜Ÿåˆ—å·¥ä½œè€…å¯åŠ¨è„šæœ¬          |

**å¯åŠ¨æ–¹å¼å¯¹æ¯”**ï¼š
```bash
# æ ‡å‡†å¯åŠ¨ï¼ˆé»˜è®¤é˜Ÿåˆ—ï¼‰
celery -A app.tasks.celery_app:celery_app worker --loglevel=info

# é€šè¿‡è„šæœ¬å¯åŠ¨ï¼ˆå¸¦ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼‰
python scripts/start_workers.py \
  --queues high_priority,default_priority \
  --concurrency 4
```

---

### æœåŠ¡å¯åŠ¨æŒ‡å—

**1. WebæœåŠ¡å™¨å¯åŠ¨**
```bash
FLASK_ENV=development python app.py
```

**2. Celeryå·¥ä½œè€…å¯åŠ¨**ï¼ˆç‹¬ç«‹æ¨¡å¼ï¼‰
```bash
# æ™®é€šä»»åŠ¡å·¥ä½œè€…
celery -A app.tasks.celery_app:celery_app worker -Q default_priority -l info

# ç´§æ€¥ä»»åŠ¡å·¥ä½œè€…
celery -A app.tasks.celery_app:celery_app worker -Q high_priority -l info --prefetch-multiplier=1
```

**3. å…¨æœåŠ¡å¯åŠ¨**ï¼ˆå¼€å‘æ¨¡å¼ï¼‰
```bash
# é€šè¿‡é›†æˆè„šæœ¬å¯åŠ¨WebæœåŠ¡å’Œæ‰€æœ‰å·¥ä½œè€…
python start_all.py \
  --web \          # å¯åŠ¨WebæœåŠ¡å™¨
  --celery \       # å¯åŠ¨Celeryå·¥ä½œè€…
  --queues "high,default" \  # æŒ‡å®šå·¥ä½œé˜Ÿåˆ—
  --debug          # å¼€å¯è°ƒè¯•æ¨¡å¼
```

---

### ç¯å¢ƒé…ç½®ä¼˜å…ˆçº§
```python
# é…ç½®åŠ è½½é¡ºåºï¼ˆé«˜â†’ä½ï¼‰
1. ç¯å¢ƒå˜é‡ (os.getenv)
2. .envæ–‡ä»¶
3. config/ ç›®å½•ä¸‹çš„é…ç½®ç±»
4. é»˜è®¤å®‰å…¨å€¼
```

---

é€šè¿‡æ­¤æ¶æ„è®¾è®¡ï¼Œå®ç°äº†ï¼š  
âœ… é…ç½®ä¸ä»£ç åˆ†ç¦»  
âœ… æ¨¡å—åŒ–æœåŠ¡ç®¡ç†  
âœ… ç¯å¢ƒå·®å¼‚åŒ–éƒ¨ç½²  
âœ… å¼€å‘/ç”Ÿäº§é…ç½®è‡ªåŠ¨åˆ‡æ¢